
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู ุงูุชูุงุนูู</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      direction: rtl;
      text-align: center;
      padding: 2rem;
      background: #f7f7f7;
      transition: background 0.3s, color 0.3s;
    }
    body.dark-mode {
      background: #121212;
      color: #e0e0e0;
    }
    #quiz-container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s;
    }
    body.dark-mode #quiz-container {
      background: #1e1e1e;
    }
    .question {
      font-size: 1.2rem;
      margin: 1rem 0;
    }
    .options {
      list-style: none;
      padding: 0;
    }
    .options li {
      margin: 0.5rem 0;
    }
    .options button {
      width: 100%;
      padding: .75rem;
      font-size: 1rem;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #fff;
      cursor: pointer;
      transition: background .2s;
    }
    .options button:hover {
      background: #f0f0f0;
    }
    body.dark-mode .options button {
      background: #333;
      border-color: #555;
    }
    body.dark-mode .options button:hover {
      background: #444;
    }
    #next-btn {
      margin-top: 1rem;
      padding: .75rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      background: #007bff;
      color: #fff;
      cursor: pointer;
    }
    #next-btn:disabled {
      background: #aaa;
      cursor: default;
    }
    #result {
      font-size: 1.5rem;
      margin-top: 1rem;
    }
    #timer {
      font-size: 1.2rem;
      color: #d9534f;
      margin-top: 10px;
    }
    #progress-bar {
      height: 10px;
      background: #ddd;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 10px;
    }
    #progress-fill {
      height: 100%;
      width: 0%;
      background: #28a745;
      transition: width 0.3s;
    }
    #start-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }
    input[type="text"] {
      padding: 0.5rem;
      font-size: 1rem;
      width: 60%;
      text-align: center;
    }
    .fixed-buttons {
      position: fixed;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 10px;
    }
    .fixed-buttons button {
      padding: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .fixed-buttons button:hover {
      background: #ddd;
    }
    body.dark-mode .fixed-buttons button {
      background: #333;
      color: #fff;
    }
    body.dark-mode .fixed-buttons button:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <div class="fixed-buttons">
    <button onclick="toggleZoom()">ุชูุจูุฑ/ุชุตุบูุฑ</button>
    <button onclick="toggleDarkMode()">ุงููุถุน ุงููููู</button>
  </div>
  <div id="quiz-container">
    <div id="start-screen">
      <h1>๐  ูุฑุงุฌุนู ูุฃุฎุชุจุงุฑ ุงูุฅุฏุงุฑุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ ูุงูุชูุธูููุฉ ุงูููุงุฆู</h1>
      <p>ุฃุฏุฎู ุงุณูู ูุจุฏุก ุงูุงุฎุชุจุงุฑ:</p>
      <input type="text" id="username" placeholder="ุงูุชุจ ุงุณูู ููุง" />
      <button onclick="startQuiz()">ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</button>
      <div id="last-score"></div>
    </div>

    <div id="quiz-content" style="display:none;">
      <div id="progress"></div>
      <div id="progress-bar"><div id="progress-fill"></div></div>
      <div class="question" id="question-text"></div>
      <ul class="options" id="options-list"></ul>
      <div id="timer"></div>
      <button id="next-btn" disabled>ุงูุชุงูู</button>
      <div id="result"></div>
      <canvas id="result-chart" style="max-width: 100%; margin-top: 20px;"></canvas>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const questions = [
      { text: "ุงูููุตุฏ ุงูุงุณุชุฑุงุชูุฌู ูุดูุฑ ุฅูู ุงููุฏู ุงูุฐู ุชุณุนู ุงูููุธูุฉ ุฅูู ุชุญูููู ุจูุงุกู ุนูู ููุงุกุงุชูุง ุงูุฃุณุงุณูุฉ.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ุงูุทุฑู ุงูุชุงููุฉ ูููุงุณ ูุงุนููุฉ ุงูููุธูุฉ ุชุนุชูุฏ ุนูู ููุงุฑูุฉ ุงูุฃุฏุงุก ุงููุนูู ูุน ุงููุคุดุฑุงุช ุงููุญุฏุฏุฉ ูุณุจููุงุ", options: ["ุทุฑููุฉ ุงูุฃูุฏุงู","ุทุฑููุฉ ุงูููุงุฑุฏ","ุทุฑููุฉ ุงูุนูููุงุช ุงูุฏุงุฎููุฉ","ุทุฑููุฉ ุงูุฃุฏุงุก ุงููุชูุงุฒู"], answer: "ุทุฑููุฉ ุงูุฃูุฏุงู" },
      { text: "ุชุบุทู ุทุฑููุฉ ุจุทุงูุฉ ุงูุฃุฏุงุก ุงููุชูุงุฒู ุฃุฑุจุนุฉ ุฌูุงูุจ ููุท ูุงููุฉ ูุนูููุงุช ุฏุงุฎููุฉ ูุชุนูู ูููู ูุฑุถุง ุงูุนููุงุก.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ููููุง ููููุฐุฌ ุจูุฑุชุฑ ููุชูุงูุณูุฉุ ุฃู ุงุณุชุฑุงุชูุฌูุฉ ุชุฑูุฒ ุนูู ุงูุงุจุชูุงุฑ ูุงููุฎุงุทุฑุฉ ูุงูุจุญุซ ุนู ูุฑุต ุฌุฏูุฏุฉุ", options: ["ุงุณุชุฑุงุชูุฌูุฉ ุงูุฏูุงุน","ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุชูุดู","ุงุณุชุฑุงุชูุฌูุฉ ุงูุชูููุฉ ุงูููุฎูุถุฉ","ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุฑููุฒ"], answer: "ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุชูุดู" },
      { text: "ูู ูููุฐุฌ ูุงููุฒ ูุณููู ููููุงูู ุงูุชูุงูุณูุฉุ ุฃู ุงุณุชุฑุงุชูุฌูุฉ ุชุญุงูู ููุงุฒูุฉ ุงูุฑูุงุจุฉ ูุงูุงุจุชูุงุฑุ", options: ["ุงููุณุชูุดู","ุงููุฏุงูุน","ุงููุญูู","ุงููุชูุงุนู"], answer: "ุงููุญูู" },
      { text: "ุงูุชุตููู ุงููุงุฆู ุนูู ุฒูุงุฏุฉ ุงูุชุญูู ูุงูููุงุกุฉ ุงูุชูุธูููุฉ ูุฑุชุจุท ุจุงูุชูุฌู ุงูููุทู ุงููุฏุงูุน.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ููุงูู ุงูุดุฑูุฉ ุงูุนุงูููุฉ ูุฌูุน ุจูู ููุชุฌุงุช ููุญุฏุฉ ุนุงููููุง ูุงุณุชุฌุงุจุฉ ูุญููุฉุ", options: ["ุงููููู ุงููุธููู","ุงููููู ุงูุฌุบุฑุงูู","ุงููููู ุงููุตูููู ุงูุนุงููู","ุงููููู ุงูุฏููู"], answer: "ุงููููู ุงููุตูููู ุงูุนุงููู" },
      { text: "ุงูุญูุงูุฒ ุชูุนุฏ ูู ุงูุฏูุงูุน ุงูุฑุฆูุณูุฉ ูุชูุณุน ุงูููุธูุงุช ุฏููููุง.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ูุง ูู ุฃุญุฏ ุฃููุงุน ุงููุญูุฒุงุช ุงููุณุชุฎุฏูุฉ ูุชุญููู ุงูุชูุงูู ุจูู ูุญุฏุงุช ุงูุดุฑูุฉ ุงูุนุงูููุฉุ", options: ["ุงูุชุฎุตุต ุงููุธููู","ูุฑู ุงูุนูู ุงูุนุงูููุฉ","ุงูุณูุทุฉ ุงููุฑูุฒูุฉ","ุงูุชูููุถ ุงููุทูู"], answer: "ูุฑู ุงูุนูู ุงูุนุงูููุฉ" },
      { text: "ูู ุงุณุชุฑุงุชูุฌูุฉ ุชูููู ุงูุชูุงููู ููููุง ูุจูุฑุชุฑุ ูุงุฐุง ุชุฑูุฒ ุงูููุธูุฉุ", options: ["ุฎูุถ ุงูุชูุงููู ูุชุญููู ูููุฑุงุช ุงูุญุฌู","ุงูุงุจุชูุงุฑ ูุชุทููุฑ ููุชุฌุงุช ุฌุฏูุฏุฉ","ุงุณุชูุฏุงู ุดุฑูุญุฉ ุณูููุฉ ุถููุฉ","ุงูุชุฑููุฒ ุนูู ุงูุฌูุฏุฉ ุงูุนุงููุฉ"], answer: "ุฎูุถ ุงูุชูุงููู ูุชุญููู ูููุฑุงุช ุงูุญุฌู" },
      { text: "ุฅุญุฏู ููุงุฐุฌ ุงูุชุบููุฑ ุงูุชูุธููู ูุนุชุจุฑ ุงูุชุบููุฑ ุญุฏุซูุง ูุคูุชูุง ููุฑุญูููุง ููุณุชุฎุฏู ูููุฐุฌ ุฅุฐุงุจุฉ ุงูุชุฌููุฏโุงูุชุบููุฑโุฅุนุงุฏุฉ ุงูุชุฌููุฏ.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ุงูุฎุทูุงุช ุงูุชุงููุฉ ููุณ ูู ุฎุทูุงุช ุฅุฏุงุฑุฉ ุงูุชุบููุฑ ููู ูููุฐุฌ ููุฑุช ููููุ", options: ["ุฅุฐุงุจุฉ ุงูุชุฌููุฏ","ุจุฏุก ุงูุชูููุฐ","ุฅุนุงุฏุฉ ุชุฌููุฏ ุงููุถุน ุงูุฌุฏูุฏ","ุฒูุงุฏุฉ ุงูููู ุงููุซุจุทุฉ"], answer: "ุฒูุงุฏุฉ ุงูููู ุงููุซุจุทุฉ" },
      { text: "ูููุฐุฌ ุงูุชุบููุฑ ุงููุณุชูุฑ ููุงุณุจ ููููุธูุงุช ุงูุตุบูุฑุฉ ุงููุงุดุฆุฉ ูู ุจูุฆุงุช ุนุงููุฉ ุงูุชุบูุฑ.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ุงูุฃุณุจุงุจ ุงูุชุงููุฉ ูุนุฏ ุณุจุจูุง ุฏุงุฎูููุง ูุฏูุน ุงูุชุบููุฑ ุงูุชูุธูููุ", options: ["ุงูููุงูุณุฉ","ุงูุชุนุฏููุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ","ุงูููุงููู ุงูุญููููุฉ","ุงูุฏูุฑุงุช ุงูุงูุชุตุงุฏูุฉ"], answer: "ุงูุชุนุฏููุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ" },
      { text: "ูููู ุงูุชุบููุฑ ุงูุฏุงุฎูู ูููู ุฃูุซุฑ ุญุฐุฑูุง ูุฃูู ุฌุฑุฃุฉ ูู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ููุงุฑูุฉ ุจุงููุณุชุดุงุฑูู ุงูุฎุงุฑุฌููู.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ููุงุฐุฌ ุตูุน ุงููุฑุงุฑ ุงูุชูุธููู ููุชุฑุถ ุฃู ุงููุฏูุฑูู ูุณุนูู ุฅูู ุจุฏูู ููุฑุถู ูููุณ ุงูุฃูุซูุ", options: ["ุงููููุฐุฌ ุงูุนููุงูู","ูููุฐุฌ ุงูุนููุงููุฉ ุงููุญุฏูุฏุฉ","ูููุฐุฌ ุงูุญุฏุณ","ูููุฐุฌ ุณูุฉ ุงูููููุงุช"], answer: "ูููุฐุฌ ุงูุนููุงููุฉ ุงููุญุฏูุฏุฉ" },
      { text: "ุชุญูุฒ ุงูุชูููุฉ ุงูุบุงุฑูุฉ ูุฏูุน ุตุงูุนู ุงููุฑุงุฑ ุฅูู ุงูุชุฑููุฒ ุนูู ุงูุชูุงููู ุงููุงุถูุฉ ุจุฏูุงู ูู ุงูุนูุงูุจ ุงููุณุชูุจููุฉ.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ูู ุฅุทุงุฑ ุงูุทูุงุฑุฆ ูุงุณุชุฎุฏุงู ููุงุฐุฌ ุงุชุฎุงุฐ ุงููุฑุงุฑุ ุฃู ูููุฐุฌ ูุณุชุฎุฏู ุนูุฏ ูุฌูุฏ ุงุชูุงู ุญูู ุงููุดููุฉ ููุนุฑูุฉ ุจุงูุญูููุ", options: ["ุงููููุฐุฌ ุงูุนููุงูู","ูููุฐุฌ ูุงุฑููุฌู","ุงููููุฐุฌ ุงูุชุฏุฑูุฌู","ูููุฐุฌ ุณูุฉ ุงูููููุงุช"], answer: "ุงููููุฐุฌ ุงูุนููุงูู" },
      { text: "ุงููุฑุงุฑุงุช ุงููุจุฑูุฌุฉ ุชุชุฎุฐ ุนุงุฏุฉ ุจูุงุณุทุฉ ุงูุฅุฌุฑุงุกุงุช ูุงูููุงุฆุญ ุงููุชูุฑุฑุฉ.", options: ["ุตุญ","ุฎุทุฃ"], answer: "ุตุญ" },
      { text: "ุฃู ูู ุงูุฃููุงุน ุงูุชุงููุฉ ูููุฑุงุฑุงุช ุงูุชูุธูููุฉ ูุชุทูุจ ูุณุชูู ุฅุฏุงุฑู ุฃุนูู ููุชุนุงูู ูุน ูุดุงูู ุบูุฑ ูุจุฑูุฌุฉุ", options: ["ุงููุฑุงุฑุงุช ุงููุจุฑูุฌุฉ","ุงููุฑุงุฑุงุช ุบูุฑ ุงููุจุฑูุฌุฉ","ุงููุฑุงุฑุงุช ุงูุฑูุชูููุฉ","ุงููุฑุงุฑุงุช ุงูุชุดุบูููุฉ"], answer: "ุงููุฑุงุฑุงุช ุบูุฑ ุงููุจุฑูุฌุฉ" }
    ];

    let current = 0;
    let score = 0;
    let timer;
    let timeLeft = 30;
    let selectedOption = null;
    let incorrectQuestions = [];

    const progress = document.getElementById('progress');
    const questionText = document.getElementById('question-text');
    const optionsList = document.getElementById('options-list');
    const nextBtn = document.getElementById('next-btn');
    const result = document.getElementById('result');
    const quizContainer = document.getElementById('quiz-container');
    const timerDisplay = document.getElementById('timer');
    const progressBar = document.getElementById('progress-fill');
    const resultChart = document.getElementById('result-chart').getContext('2d');

    function startQuiz() {
      const username = document.getElementById('username').value;
      if (username.trim() === '') {
        alert('ูุฑุฌู ุฅุฏุฎุงู ุงุณูู ูุจุฏุก ุงูุงุฎุชุจุงุฑ.');
        return;
      }
      localStorage.setItem('username', username);
      document.getElementById('start-screen').style.display = 'none';
      document.getElementById('quiz-content').style.display = 'block';
      loadQuestion();
    }

    function loadQuestion() {
      clearInterval(timer);
      timeLeft = 30;
      timerDisplay.textContent = `ุงูููุช ุงููุชุจูู: ${timeLeft} ุซุงููุฉ`;
      timer = setInterval(updateTimer, 1000);

      const q = questions[current];
      progress.innerHTML = `<strong>ุงูุณุคุงู ${current + 1} ูู ${questions.length}</strong>`;
      questionText.textContent = q.text;
      optionsList.innerHTML = '';
      nextBtn.disabled = true;
      selectedOption = null;

      q.options.forEach(opt => {
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => selectOption(opt, btn);
        li.appendChild(btn);
        optionsList.appendChild(li);
      });

      progressBar.style.width = `${(current / questions.length) * 100}%`;
    }

    function selectOption(choice, btn) {
      if (selectedOption) {
        selectedOption.style.background = '';
      }
      selectedOption = btn;
      selectedOption.style.background = '#d4edda';
      nextBtn.disabled = false;
    }

    function updateTimer() {
      timeLeft--;
      timerDisplay.textContent = `ุงูููุช ุงููุชุจูู: ${timeLeft} ุซุงููุฉ`;
      if (timeLeft <= 0) {
        clearInterval(timer);
        nextQuestion();
      }
    }

    nextBtn.onclick = () => {
      nextQuestion();
    };

    function nextQuestion() {
      if (selectedOption && selectedOption.textContent === questions[current].answer) {
        score++;
      } else {
        incorrectQuestions.push(questions[current]);
      }
      current++;
      if (current < questions.length) {
        loadQuestion();
      } else {
        endQuiz();
      }
    }

    function endQuiz() {
      clearInterval(timer);
      quizContainer.innerHTML = `
        <h1>๐ ุงูุชูู ุงูุงุฎุชุจุงุฑ!</h1>
        <p id="result">ุญุตูุช ุนูู ${score} ูู ${questions.length} ููุทุฉ.</p>
        ${score === questions.length ? '<p>๐ ุงูุฏุฑุฌุฉ ูุงููุฉ! ๐</p>' : ''}
        <button onclick="location.reload()">๐ ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ</button>
        <h2>ุงูุฃุณุฆูุฉ ุงูุชู ุฃุฌุจุช ุนูููุง ุจุดูู ุฎุงุทุฆ:</h2>
        <ul>
          ${incorrectQuestions.map(q => `<li>${q.text}</li>`).join('')}
        </ul>
      `;
      displayChart();
    }

    function displayChart() {
      new Chart(resultChart, {
        type: 'doughnut',
        data: {
          labels: ['ุฅุฌุงุจุงุช ุตุญูุญุฉ', 'ุฅุฌุงุจุงุช ุฎุงุทุฆุฉ'],
          datasets: [{
            data: [score, questions.length - score],
            backgroundColor: ['#28a745', '#dc3545']
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false
        }
      });
    }

    function toggleZoom() {
      document.body.style.zoom = document.body.style.zoom === '1.5' ? '1' : '1.5';
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const lastUsername = localStorage.getItem('username');
      if (lastUsername) {
        document.getElementById('last-score').textContent = `ูุฑุญุจูุง ${lastUsername}!`;
      }
    });
  </script>
</body>
</html>
